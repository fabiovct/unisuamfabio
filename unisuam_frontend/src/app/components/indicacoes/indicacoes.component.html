<div class="container mt-5">
    <button type="button" class="btn btn-primary" (click)="showCadastro()">Cadastrar Indicação</button>
<div class="row mt-4" *ngIf='formCadastro'>
    <form #productform="ngForm"  (ngSubmit)="cadastrarIndicacao()">
        <div class="form-group">
          <label for="nome">Nome</label>
          <input type="text" name="nome" class="form-control" id="nome" [(ngModel)]="form.nome">
        </div>
        <div class="form-group">
          <label for="cpf">CPF</label>
          <input type="text" name="cpf" class="form-control" id="cpf" [(ngModel)]="form.cpf">
        </div>
        <div class="form-group">
            <label for="telefone">Telefone</label>
            <input type="text" name="telefone" class="form-control" id="telefone" [(ngModel)]="form.telefone">
        </div>
        <div class="form-group">
            <label for="email">Email</label>
            <input type="text" name="email" class="form-control" id="email" [(ngModel)]="form.email">
        </div>
        <button type="submit" class="btn btn-outline-success mt-2" >Salvar</button>
      </form>
</div>

<div class="row">
    <table class="table table-hover">
        <thead>
          <tr>
    
            <th scope="col">Nome</th>
            <th scope="col">Email</th>
            <th scope="col">Cpf</th>
            <th scope="col">Telefone</th>
            <th scope="col">Status</th>
            <th></th>
    
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let indicacao of indicacoes; let i = index">
    
            <td>{{indicacao.nome}}</td>
            <td>{{indicacao.email}}</td>
            <td>{{indicacao.cpf}}</td>
            <td>{{indicacao.telefone}}</td>
            <td>{{indicacao.status.descricao}}</td>
            <td>
                <button [disabled]="indicacao.status.id == 3" type="button"  class="btn btn-primary align-right btn-sm" (click)="updateIndicacao(indicacao.id)">+ Status</button>
              <!-- <button *ngIf="indicacao.status.id != 3" type="button"  class="btn btn-primary align-right btn-sm" (click)="updateIndicacao(indicacao.id)">+Etapa</button> -->
              <button type="button"  class="btn btn-danger align-right btn-sm ms-2" (click)="deleteIndicacao(indicacao.id)">Excluir</button>
            </td>
    
          </tr>
        </tbody>
      </table>
    
</div>



</div>
